<!DOCTYPE HTML>
<!--
   Hypothesis by Pixelarity
   pixelarity.com | hello@pixelarity.com
   License: pixelarity.com/license
-->
<html>
<head>
    <title>Untitled</title>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no"/>
    <link rel="stylesheet" href="/static/css/main.css"/>
    <link rel="stylesheet" href="/static/css/header.css">
</head>
<style>
    .content.main {
        width: 74%;
        border-radius: 25px;
        padding: 2%;
        margin: auto;
    }

    .hos_wrap {
        display: inline-flex;
        margin: auto;
        width: 100%;
        justify-content: center;
        border-top: 1px solid lightgray;
        padding: 17px 0;

    }

    .hos_wrap:hover {
        background: lightgray;
        cursor: pointer;
    }

    .hos_info {
        height: 100px;
    }

    .hos_img {
        margin-left: 10px;
        height: 100px;
    }

    .hos_img img {
        width: 100px;
    }
</style>
<body class="is-preload">

<!-- Wrapper -->
<div id="wrapper">

    <!-- Header -->
    <header id="header"></header>

    <!-- Section -->
    <section id="one" class="main alt" style="display: flex">
        <div style="width: 25%;padding: 35px;">
            <h2 style="text-align: center">병원 찾기</h2>
            <form action="" name="searchForm">
                <input type="text" id="search" name="search" style="display: inline;width:73%; border-radius: 0px; "/>
                <input type="button" value="검색" onclick="search()"
                       style="border-radius: 0px;position: relative; right: 4px;top: -2px;">
            </form>

            <div class="hos_wrap">
                <div class="hos_info">
                    <div style="font-weight: bold">아주대학교 병원 <span style="font-size: 14px;color: darkgray;">부속 병원</span>
                    </div>
                    <div style="font-size: 16px;">4221-1123</div>
                    <div style="font-size: 16px;">수원 영통구 영통동</div>
                </div>
                <div class="hos_img">
                    <img src="https://search.pstatic.net/common/?autoRotate=true&quality=95&type=f184_184&src=https%3A%2F%2Fldb-phinf.pstatic.net%2F20150831_240%2F14410143078181stGq_JPEG%2F126981584748644_0.jpg"
                         alt="">
                </div>
            </div>

            <div class="hos_wrap">
                <div class="hos_info">
                    <div style="font-weight: bold">아주대학교 병원 <span style="font-size: 14px;color: darkgray;">부속 병원</span>
                    </div>
                    <div style="font-size: 16px;">4221-1123</div>
                    <div style="font-size: 16px;">수원 영통구 영통동</div>
                </div>
                <div class="hos_img">
                    <img src="https://search.pstatic.net/common/?autoRotate=true&quality=95&type=f184_184&src=https%3A%2F%2Fldb-phinf.pstatic.net%2F20150831_240%2F14410143078181stGq_JPEG%2F126981584748644_0.jpg"
                         alt="">
                </div>
            </div>

            <div class="hos_wrap">
                <div class="hos_info">
                    <div style="font-weight: bold">아주대학교 병원 <span style="font-size: 14px;color: darkgray;">부속 병원</span>
                    </div>
                    <div style="font-size: 16px;">4221-1123</div>
                    <div style="font-size: 16px;">수원 영통구 영통동</div>
                </div>
                <div class="hos_img">
                    <img src="https://search.pstatic.net/common/?autoRotate=true&quality=95&type=f184_184&src=https%3A%2F%2Fldb-phinf.pstatic.net%2F20150831_240%2F14410143078181stGq_JPEG%2F126981584748644_0.jpg"
                         alt="">
                </div>
            </div>

            <div class="hos_wrap">
                <div class="hos_info">
                    <div style="font-weight: bold">아주대학교 병원 <span style="font-size: 14px;color: darkgray;">부속 병원</span>
                    </div>
                    <div style="font-size: 16px;">4221-1123</div>
                    <div style="font-size: 16px;">수원 영통구 영통동</div>
                </div>
                <div class="hos_img">
                    <img src="https://search.pstatic.net/common/?autoRotate=true&quality=95&type=f184_184&src=https%3A%2F%2Fldb-phinf.pstatic.net%2F20150831_240%2F14410143078181stGq_JPEG%2F126981584748644_0.jpg"
                         alt="">
                </div>
            </div>
        </div>

        <div style="width: 75%">

            <div id="map" style="width:100%;height:870px;font-size: 16px;"></div>
        </div>
        <!-- <div class="inner alt">
             <br>
         </div>-->

    </section>


    <!-- Footer -->
    <footer id="footer"></footer>

</div>

<!-- Scripts -->
<script src="/static/js/jquery.min.js"></script>
<script src="/static/js/jquery.dropotron.min.js"></script>
<script src="/static/js/jquery.selectorr.min.js"></script>
<script src="/static/js/jquery.scrollex.min.js"></script>
<script src="/static/js/jquery.scrolly.min.js"></script>
<script src="/static/js/browser.min.js"></script>
<script src="/static/js/breakpoints.min.js"></script>
<script src="/static/js/util.js"></script>
<script src="/static/js/main.js"></script>
<script src="/static/js/fix.js"></script>

<script src="//dapi.kakao.com/v2/maps/sdk.js?appkey=d5501b085b4c545946aa146967adeff2"></script>
<script src="//code.jquery.com/jquery-3.5.1.min.js"></script>
<script>
    function search() {
        var location = document.getElementById("search").value;
        var form = document.searchForm;
        form.action = "/map?search=" + location;
        form.submit();
    }

    var mapContainer = document.getElementById('map'), // 지도를 표시할 div
        mapOption = {
            center: new kakao.maps.LatLng(33.250542, 126.416746), // 지도의 중심좌표
            level: 5 // 지도의 확대 레벨
        };

    var map = new kakao.maps.Map(mapContainer, mapOption); // 지도를 생성합니다


    // 마커를 표시할 위치와 title 객체 배열입니다
    var positions = [
        {
            title: '제주여미지식물원',
            latlng: new kakao.maps.LatLng(33.252596, 126.414348),
            href: "https://www.naver.com/"
        },
        {
            title: '중문색달해변',
            latlng: new kakao.maps.LatLng(33.244993, 126.411661),
            href: "https://www.naver.com/"
        },
        {
            title: '퍼시픽랜드 수조관',
            latlng: new kakao.maps.LatLng(33.244221, 126.417223),
            href: "https://www.naver.com/"
        },
        {
            title: '천재연폭포',
            latlng: new kakao.maps.LatLng(33.250542, 126.416746),
            href: "https://www.naver.com/"
        }
    ];
    positions.push({
        title: '아주대학교',
        latlng: new kakao.maps.LatLng(33.250542, 126.436748),
        href: "https://www.google.com/"
    });
    positions.push({
        title: '동탄그레이스소아청소년과의원',
        latlng: new kakao.maps.LatLng(33.252542, 126.433748),
        href: "https://www.google.com/"
    });
    // 마커 이미지의 이미지 주소입니다
    // var imageSrc = "https://t1.daumcdn.net/localimg/localimages/07/mapapidoc/markerStar.png";
    var imageSrc = "/img/hospit.png";

    for (var i = 0; i < positions.length; i++) {

        // 마커 이미지의 이미지 크기 입니다
        var imageSize = new kakao.maps.Size(24, 35);

        // 마커 이미지를 생성합니다
        var markerImage = new kakao.maps.MarkerImage(imageSrc, imageSize);

        let str = '';
        if (positions[i].title.length <= 9) {
            for (let j = 0; j <= (9 - positions[i].title.length) * 2 - 1; j++) {
                str += '&nbsp;';
            }
        } else {
            positions[i].title = positions[i].title.substring(0, 8) + "...";
        }
        positions[i].title = str + positions[i].title;
        // 마커를 생성합니다
        var marker = new kakao.maps.Marker({
            map: map, // 마커를 표시할 지도
            position: positions[i].latlng, // 마커를 표시할 위치
            title: positions[i].title, // 마커의 타이틀, 마커에 마우스를 올리면 타이틀이 표시됩니다
            image: markerImage, // 마커 이미지
        });

        var iwContent = '<div style="padding:5px;" class="title_wrap" >' +
            '<a href="' + positions[i].href + '" style="color:black;border-bottom: none;" target="_blank">' + positions[i].title + '</a> </div>'
        // '<a href="https://map.kakao.com/link/map/Hello World!,33.450701,126.570667" style="color:blue" target="_blank">큰지도보기</a> ' +
        // '<a href="https://map.kakao.com/link/to/Hello World!,33.450701,126.570667" style="color:blue" target="_blank">길찾기</a></div>', // 인포윈도우에 표출될 내용으로 HTML 문자열이나 document element가 가능합니다
        // iwPosition = new kakao.maps.LatLng(33.250542, 126.416746); //인포윈도우 표시 위치입니다
        iwPosition = positions[i].latlng;//인포윈도우 표시 위치입니다

        // 인포윈도우를 생성합니다
        var infowindow = new kakao.maps.InfoWindow({
            position: iwPosition,
            content: iwContent
        });



        // 마커 위에 인포윈도우를 표시합니다. 두번째 파라미터인 marker를 넣어주지 않으면 지도 위에 표시됩니다
        infowindow.open(map, marker);
        // pinImg.length-2




        // 인포윈도우를 표시하는 클로저를 만드는 함수입니다
        function makeOverListener(map, marker, infowindow) {
            return function () {
                infowindow.open(map, marker);
            };
        }

        // 인포윈도우를 닫는 클로저를 만드는 함수입니다
        function makeOutListener(infowindow) {
            return function () {
                infowindow.close();
            };
        }
    }


    // 마커가 지도 위에 표시되도록 설정합니다
    marker.setMap(map);



    for(let i= 0;i<positions.length;i++){
        let target = document.getElementsByClassName("title_wrap");
        target[i].parentElement.parentElement.style.borderRadius = '5px';

        target[i].parentElement.parentElement.style.display='none';

        let pinImg = document.querySelectorAll('div img');


        pinImg[pinImg.length-1-positions.length+i].addEventListener('mouseover',function() {
            let target = document.getElementsByClassName("title_wrap");
            target[i].parentElement.parentElement.style.display='block';
        });


        // setTimeout(function(){
        //     let target = document.getElementsByClassName("title_wrap");
        //     target[i].parentElement.parentElement.style.display='none';
        // },3000);

        // target[i].parentElement.parentElement.addEventListener(' mouseout',function() {
        //         let target = document.getElementsByClassName("title_wrap");
        //         target[i].parentElement.parentElement.style.display='none';
        //     });

        pinImg[pinImg.length-1-positions.length+i].addEventListener('mouseout',function() {
            setTimeout(function(){
                let target = document.getElementsByClassName("title_wrap");
                target[i].parentElement.parentElement.style.display='none';
            },3000);
        });
    }


</script>
</body>
</html>