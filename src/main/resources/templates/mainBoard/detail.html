<!DOCTYPE HTML>
<!--
   Hypothesis by Pixelarity
   pixelarity.com | hello@pixelarity.com
   License: pixelarity.com/license
-->
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Untitled</title>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no"/>
    <link rel="stylesheet" href="/css/main.css"/>
    <link rel="stylesheet"
          href="//img.echosting.cafe24.com/editors/froala/3.2.2/css/froala_editor.pkgd.min.css">
    <link rel="stylesheet"
          href="//img.echosting.cafe24.com/editors/froala/css/themes/ec_froala.css">
</head>
<style>
    .content.main {
        width: 74%;
        border-radius: 25px;
        padding: 2%;
        margin: auto;
    }

    .board_title_wrap img {
        width: 80px;
    }

    .board_title_wrap {
        display: flex;
        margin-bottom: 30px;
    }

    .board_title {
        /*margin-left: 10px;*/
        font-weight: bold;
        font-size: 17px;
    }

    .board_date {
    }

    .board_btn_wrap {
        text-align: center;
        width: 102px;
        margin-left: -2px;
        margin-right: 0px;
    }

    .btn_like {
        margin-top: 10px;
        color: black !important;
        width: 110px !important;
        background-color: white;
        border-radius: 2px;

        height: 53px;
        position: relative;
        top: 3px;
    }

    .btn_like:hover > img {
        zoom: 1.3;
    }

    .btn_report {
        margin-top: 10px;
        color: black !important;
        width: 28% !important;
        background-color: white !important;
        border-radius: 0px !important;
        border-left: 1px solid black;


    }

    .btn_report:hover > img {
        zoom: 1.3;
    }

    .btn_reple {
        width: 100% !important;
        border-radius: 0px !important;
        font-size: 17px;
        text-align: center;
        height: 31px;
        border-bottom: none;
        color: #358bca !important;
        font-weight: bold;
    }

    .btn_reple:hover {
        background-color: rgba(35, 177, 236, 0.1);
    }

    .board_btn_reply {
        margin: auto;
        border-radius: 15px;
    }

    td {
        background-color: white !important;
    }

    th {
        background-color: white !important;
    }

    #view_list {
        float: left !important;
        margin-left: 1% !important;
        width: 15% !important;
    }

    #write_post {
        float: right !important;
        margin-left: 1% !important;
        width: 15% !important;
    }

    #cancel_post {
        float: right !important;
        margin-left: 1%;
        margin-right: 1%;
        box-shadow: inset 0 0 0 3px #358bca;
        width: 15% !important;
    }

    #view_list {
        float: left !important;
    }

    input[type="submit"], input[type="reset"], input[type="button"], button, .button {
        box-shadow: none;
    }

    /*div#div_write {width: 50% !important;height: 50% !important;margin: 0 auto !important;}*/

    #div_table {
        width: 100% !important;
        margin: 0 auto !important;
    }

    table {
        margin: 0 0 0 0 !important;
    }

    select#city {
        width: 24%;
        float: left;
    }

    select#town {
        width: 24%;
        float: left;
        margin-left: 1%;
    }

    select#age {
        width: 24%;
        float: left;
        margin-left: 2%;
    }

    select#sex {
        width: 24%;
        float: left;
        margin-left: 1%;
    }

    select#select_category {
        margin-right: 1%;
        width: 39%;
        float: left;
    }

    input#illness {
        float: left;
        width: 60%;
    }

    .board_content {
        width: 87%;
        margin: auto;
        display: block;
        float: right;
    }

    a {
        border-bottom: none !important;
    }

    a.addFile {
        color: #358bca;
        font-size: 90%;
    }

    a.deleteFile {
        color: #7a7a7a !important;
        font-size: 80%;
    }

    input#fileName {
        width: 78%;
        margin-top: 2%;
        margin-bottom: 2%;
        color: #7a7a7a;
        font-size: 80%;
    }

    div#addFile {
        margin-top: 14%;
        margin-bottom: 4%;
    }

    select#city {
        width: 24%;
        float: left;
    }

    select#town {
        width: 24%;
        float: left;
        margin-left: 1%;
    }

    select#age {
        width: 24%;
        float: left;
        margin-left: 2%;
    }

    select#sex {
        width: 24%;
        float: left;
        margin-left: 1%;
    }

    select#select_category {
        margin-right: 1%;
        width: 39%;
        float: left;
    }

    input#illness {
        float: left;
        width: 60%;
    }

    td {
        background-color: white !important;
    }

    th {
        background-color: white !important;
    }

    /*input.input_button{float: right !important; width: 15%;font-size: 80%;padding: 10px 20px;margin:5px;border-radius:4px;background-color: #f5f5f5;border:none;color:#707070 !important;outline:none;box-shadow: none;line-height: inherit;}*/

    input.input_button {
        float: right !important;
        width: 15%;
        font-size: 80%;
        padding: 10px 20px;
        margin: 5px;
        color: #358bca !important;
        outline: none;
        line-height: inherit;
    }

    input[type="submit"], input[type="reset"], input[type="button"], button, .button {
        box-shadow: none !important;
        border-radius: 0;
        margin: 0;
    }

    /*div#div_write {width: 50% !important;height: 50% !important;margin: 0 auto !important;}*/

    #div_table {
        width: 100% !important;
        margin: 0 auto !important;
    }

    table {
        margin: 0 0 0 0 !important;
    }

    #wrapper > * {
        border-bottom: none !important;
        overflow: hidden !important;
    }

    .content.main {
        width: 90%;
        border-radius: 25px;
        padding-left: 8% !important;
        padding-right: 8% !important;
        padding-bottom: 2% !important;
        padding-top: 4% !important;

        margin: 45px auto !important;
    }

    #formTitle {
        text-align: center;
        font-size: 23px;
        color: #358bca !important;
        font-weight: bold;
    }

    .newView {
        text-align: center;
        font-size: 21px;
        font-weight: bold;
        background: white;
        border-radius: 14px;
        width: 90%;
        margin: 45px auto 0 auto;
        border: 1px solid lightslategray;
    }
    .replyTitleWrap{
        margin-left: 10px;
        display: flex;
        flex-direction: column;
        justify-content: space-evenly;
    }
</style>
<body class="is-preload">

<!-- Wrapper -->
<div id="wrapper">

    <!-- Header -->
    <header id="header"></header>

    <!-- Section -->
    <section id="one" class="main alt">
        <div class="inner alt">
            <div class="content main">
                <section class="tiles" th:object="${board}">
                    <div style="width: 80%;margin: auto">
                        <div class="board_detail_wrap">
                            <div class="board_question">
                                <div class="board_title_wrap">
                                    <img src="/img/q.png" alt="" style=" position: relative; right: 23px;">
                                    <div style="position: relative; right: 10px;">
                                        <span class="board_title" th:text="*{qnaTitle}"></span>
                                        <div class="board_title_detail"
                                             th:text="|*{qnaAddress} / *{qnaAge} / *{qnaGender} / *{qnaDisease}|"></div>
                                    </div>
                                </div>

                                <div style="margin-left: 2.5%;">
                                    <div class="board_content" style="float: none" th:utext="*{qnaContent}"></div>
                                    <div style=" height: 40px;clear: both;"></div>
                                    <div class="board_date" style="width: 87%;margin: auto;" th:text="*{qnaDate}"></div>
                                    <div style="width: 87%;margin: auto;" th:text="|조회수 : *{qnaViewCnt}|"></div>
                                </div>

                                <div class="board_btn_reply" style="text-align: right;">
                                    <!--                                    <a href="#" class="button primary fit" style="border-radius: 15px">답변달기</a>-->
                                    <button type="button" class="button" onclick="openForm()" id="btn_reply"
                                            style="border-radius: 0px;width: 25%;font-size: 20px;position: relative;left: 67px;">
                                        답변달기
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
            </div>


            <!-- div_write 시작 -->
            <div id="div_write" style="width: 90%;margin: 40px auto 0 auto;">
                <h2 id="formTitle">답변 하기</h2>
                <!-- form 태그 시작 -->
                <form action="/detail/answer" name="writeForm" method="post">
                    <table border="1">
                        <colgroup>
                            <col style="width: 130px;">
                            <col style="width: auto;">
                        </colgroup>
                        <tbody>
                        <tr style="border-top: none; border-bottom: none;">
                            <td colspan="2" class="clear" style="padding-bottom: 3%;border-radius: 25px;"><textarea
                                    style="width: 100%; display: none;" name="reQnaContent" id="content"
                                    class="ec-fr-never-be-duplicated"></textarea> <input
                                    type="hidden" id="content_hidden" name="reQnaContent"
                                    fw-filter="isSimplexEditorFill" fw-label="내용"
                                    value="EC_FROALA_INSTANCE">
                                <script
                                        type="text/javascript"
                                        src="//img.echosting.cafe24.com/editors/froala/js/polyfill.min.js"></script>
                                <script type="text/javascript"
                                        src="//img.echosting.cafe24.com/editors/froala/3.2.2/js/froala_editor.pkgd.min.js"></script>
                                <script type="text/javascript"
                                        src="//img.echosting.cafe24.com/editors/froala/js/i18n/ko_KR.js"></script>

                                <!-- Run Froala Script -->
                                <script>
                                    var EC_FROALA_ID = null;
                                    // isSimplexEditorFill 체크시에 필요함
                                    var EC_FROALA_INSTANCE = null;
                                    (function () {
                                        var d = "";
                                        try {
                                            var o = {
                                                "key": "DUA2yF3G1E1A5A2A2pZGCTRSAPJWTLPLZHTQQe1JGZxC4B3A3E2B5A1E1E4I1C2==",
                                                "toolbarSticky": false,
                                                "theme": "ec-froala",
                                                "attribution": false,
                                                "htmlRemoveTags": ["script"],
                                                "htmlAllowedEmptyTags": ["*"],
                                                "iframe": true,
                                                "iframeStyle": ".fr-view{font-size: 12px;}",
                                                "iframeStyleFiles": ["\/\/img.echosting.cafe24.com\/editors\/froala\/css\/froala_style.min.css"],
                                                "heightMin": 200,
                                                "language": "ko_KR",
                                                "paragraphFormatSelection": true,
                                                "fontFamilySelection": true,
                                                "fontSize": ["8", "9", "10",
                                                    "12", "14", "16", "18",
                                                    "20", "22", "24", "26",
                                                    "28", "30"],
                                                "fontSizeSelection": true,
                                                "linkInsertButtons": ["linkBack"],
                                                "quickInsertButtons": ["ul",
                                                    "ol", "hr"],
                                                "codeMirror": false,
                                                "imageEditButtons": [
                                                    "imageAlign",
                                                    "imageRemove", "|",
                                                    "imageLink",
                                                    "linkOpen", "linkEdit",
                                                    "linkRemove", "-",
                                                    "imageDisplay",
                                                    "imageStyle",
                                                    "imageAlt", "imageSize"],
                                                "tableEditButtons": [],
                                                "tableInsertHelper": false,
                                                "imageDefaultMargin": 0,
                                                "imageDefaultWidth": 0,
                                                "imageUpload": false,
                                                "imageInsertButtons": ["imageUpload"],
                                                "imageMaxSize": 5242880,
                                                "filesManagerMaxSize": 5242880,
                                                "toolbarButtons": {
                                                    "moreText": {
                                                        "buttons": [
                                                            "paragraphFormat",
                                                            "fontFamily",
                                                            "fontSize",
                                                            "bold",
                                                            "italic",
                                                            "underline",
                                                            "strikeThrough",
                                                            "textColor",
                                                            "backgroundColor",
                                                            "subscript",
                                                            "superscript",
                                                            "clearFormatting"],
                                                        "buttonsVisible": 5
                                                    },
                                                    "moreParagraph": {
                                                        "buttons": [
                                                            "formatOL",
                                                            "formatUL",
                                                            "alignLeft",
                                                            "alignCenter",
                                                            "alignRight",
                                                            "outdent",
                                                            "indent",
                                                            "alignJustify",
                                                            "lineHeight"],
                                                        "buttonsVisible": 5
                                                    },
                                                    "moreRich": {
                                                        "buttons": [
                                                            "insertTable",
                                                            "insertLink",
                                                            "insertHR",
                                                            "emoticons",
                                                            "specialCharacters"],
                                                        "buttonsVisible": 0
                                                    },
                                                    "moreMisc": {
                                                        "buttons": ["undo",
                                                            "redo",
                                                            "fullscreen",
                                                            "html",
                                                            "print",
                                                            "spellChecker",
                                                            "selectAll"],
                                                        "align": "right",
                                                        "buttonsVisible": 2
                                                    }
                                                },
                                                "toolbarButtonsSM": {
                                                    "moreText": {
                                                        "buttons": [
                                                            "paragraphFormat",
                                                            "fontFamily",
                                                            "fontSize",
                                                            "bold",
                                                            "italic",
                                                            "underline",
                                                            "strikeThrough",
                                                            "textColor",
                                                            "backgroundColor",
                                                            "subscript",
                                                            "superscript",
                                                            "clearFormatting"],
                                                        "buttonsVisible": 4
                                                    },
                                                    "moreParagraph": {
                                                        "buttons": [
                                                            "formatOL",
                                                            "formatUL",
                                                            "alignLeft",
                                                            "alignCenter",
                                                            "alignRight",
                                                            "outdent",
                                                            "indent",
                                                            "alignJustify",
                                                            "lineHeight"],
                                                        "buttonsVisible": 2
                                                    },
                                                    "moreRich": {
                                                        "buttons": [
                                                            "insertTable",
                                                            "insertLink",
                                                            "insertHR",
                                                            "emoticons",
                                                            "specialCharacters"],
                                                        "buttonsVisible": 0
                                                    },
                                                    "moreMisc": {
                                                        "buttons": ["undo",
                                                            "redo",
                                                            "fullscreen",
                                                            "html",
                                                            "print",
                                                            "spellChecker",
                                                            "selectAll"],
                                                        "align": "right",
                                                        "buttonsVisible": 2
                                                    }
                                                },
                                                "toolbarButtonsXS": {
                                                    "moreText": {
                                                        "buttons": [
                                                            "paragraphFormat",
                                                            "textColor",
                                                            "backgroundColor",
                                                            "bold",
                                                            "italic",
                                                            "underline",
                                                            "strikeThrough"],
                                                        "buttonsVisible": 1
                                                    },
                                                    "moreParagraph": {
                                                        "buttons": [
                                                            "formatOL",
                                                            "formatUL",
                                                            "alignLeft",
                                                            "alignCenter",
                                                            "alignRight"],
                                                        "buttonsVisible": 0
                                                    },
                                                    "moreRich": {
                                                        "buttons": ["insertLink"]
                                                    },
                                                    "moreMisc": {
                                                        "buttons": ["undo",
                                                            "redo", "html"],
                                                        "buttonsVisible": 0,
                                                        "align": "right"
                                                    }
                                                },
                                                "htmlDoNotWrapTags": [
                                                    "script", "style",
                                                    "meta", "link"],
                                                "htmlAllowedStyleProps": [".*"],
                                                "htmlAllowedTags": [".*"],
                                                "htmlAllowedAttrs": [".*"],
                                                "fontFamily": {
                                                    "Dotum,sans-serif": "Dotum",
                                                    "Gulim,sans-serif": "Gulim",
                                                    "Batang,sans-serif": "Batang",
                                                    "Gungsuh,sans-serif": "Gungsuh",
                                                    "Arial,Helvetica,sans-serif": "Arial",
                                                    "Tahoma,Geneva,sans-serif": "Tahoma",
                                                    "Verdana,Geneva,sans-serif": "Verdana",
                                                    "Fixedsys,sans-serif": "Fixedsys",
                                                    "'Times New Roman',Times,serif": "Times New Roman",
                                                    "helvetica,sans-serif": "Helvetica",
                                                    "sans-serif": "Sans-serif",
                                                    "palatino,sans-serif": "Palatino",
                                                    "'Comic Sans MS',sans-serif": "Comic Sans MS",
                                                    "sand,sans-serif": "Sand",
                                                    "'Courier New',sans-serif": "Courier New",
                                                    "courier,sans-serif": "Courier",
                                                    "monospace,sans-serif": "Monospace",
                                                    "Georgia,serif": "Georgia",
                                                    "SimSun,sans-serif": "SimSun",
                                                    "SimHei,sans-serif": "SimHei",
                                                    "'MS PGothic',sans-serif": "MS PGothic",
                                                    "'MS PMincho',sans-serif": "MS PMincho",
                                                    "'MS UI PGothic',sans-serif": "MS UI PGothic",
                                                    "Meiryo,sans-serif": "Meiryo"
                                                },
                                                "colorsText": ["#FF0000",
                                                    "#FF6C00", "#FFAA00",
                                                    "#FFEF00", "#A6CF00",
                                                    "#009E25", "#00B0A2",
                                                    "#0075C8", "#3A32C3",
                                                    "#7820B9", "#EF007C",
                                                    "#000000", "#252525",
                                                    "#464646", "#636363",
                                                    "#7D7D7D", "#9A9A9A",
                                                    "#FFE8E8", "#F7E2D2",
                                                    "#F5EDDC", "#F5F4E0",
                                                    "#EDF2C2", "#DEF7E5",
                                                    "#D9EEEC", "#C9E0F0",
                                                    "#D6D4EB", "#E7DBED",
                                                    "#F1E2EA", "#ACACAC",
                                                    "#C2C2C2", "#CCCCCC",
                                                    "#E1E1E1", "#EBEBEB",
                                                    "#FFFFFF", "#E97D81",
                                                    "#E19B73", "#D1B274",
                                                    "#CFCCA2", "#61B977",
                                                    "#53AEA8", "#518FBB",
                                                    "#6A65BB", "#9A54CE",
                                                    "#E573AE", "#5A504B",
                                                    "#767B86", "#951015",
                                                    "#6E391A", "#785C25",
                                                    "#5F5B25", "#4C511F",
                                                    "#1C4827", "#0D514C",
                                                    "#1B496A", "#2B285F",
                                                    "#45245B", "#721947",
                                                    "#352E2C", "#3C3F45"],
                                                "colorsBackground": [
                                                    "#FF0000", "#FF6C00",
                                                    "#FFAA00", "#FFEF00",
                                                    "#A6CF00", "#009E25",
                                                    "#00B0A2", "#0075C8",
                                                    "#3A32C3", "#7820B9",
                                                    "#EF007C", "#000000",
                                                    "#252525", "#464646",
                                                    "#636363", "#7D7D7D",
                                                    "#9A9A9A", "#FFE8E8",
                                                    "#F7E2D2", "#F5EDDC",
                                                    "#F5F4E0", "#EDF2C2",
                                                    "#DEF7E5", "#D9EEEC",
                                                    "#C9E0F0", "#D6D4EB",
                                                    "#E7DBED", "#F1E2EA",
                                                    "#ACACAC", "#C2C2C2",
                                                    "#CCCCCC", "#E1E1E1",
                                                    "#EBEBEB", "#FFFFFF",
                                                    "#E97D81", "#E19B73",

                                                    "#D1B274", "#CFCCA2",
                                                    "#61B977", "#53AEA8",
                                                    "#518FBB", "#6A65BB",
                                                    "#9A54CE", "#E573AE",
                                                    "#5A504B", "#767B86",
                                                    "#951015", "#6E391A",
                                                    "#785C25", "#5F5B25",
                                                    "#4C511F", "#1C4827",
                                                    "#0D514C", "#1B496A",
                                                    "#2B285F", "#45245B",
                                                    "#721947", "#352E2C",
                                                    "#3C3F45"],
                                                "docId": "content"
                                            };
                                            // IE tableEditbuttons 이슈
                                            o["tableEditButtons"] = FroalaEditor.DEFAULTS.tableEditButtons
                                                .filter(function (
                                                    tableEditButtonName) {
                                                    return tableEditButtonName
                                                        .indexOf("Style") === -1;
                                                });

                                            o["events"] = {
                                                "filesManager.beforeUpload": function (
                                                    files) {
                                                    this.opts.filesManagerUploadURL = getConvertUrlBeforeUpload(this.opts.filesManagerUploadURL);
                                                },
                                                "image.beforeUpload": function (
                                                    images) {
                                                    this.opts.imageUploadURL = getConvertUrlBeforeUpload(this.opts.imageUploadURL);
                                                },
                                                "image.error": function (error,
                                                                         response) {
                                                    if (typeof JSON != "undefined") {
                                                        r = JSON
                                                            .parse(response);
                                                        alert(r["error"]);
                                                    }
                                                },
                                                "filesManager.error": function (
                                                    error, response) {
                                                    if (typeof JSON != "undefined") {
                                                        r = JSON
                                                            .parse(response);
                                                        alert(r["error"]);
                                                    }
                                                },
                                                "commands.after": function (a) {
                                                    if (a === "insertFiles") {
                                                        var enableButton = document
                                                            .querySelector(".fr-trim-button.fr-plugins-enable");
                                                        if (enableButton)
                                                            enableButton
                                                                .click();
                                                    }

                                                    if (a === "selectAll") {
                                                        this.el.focus();
                                                    }
                                                },
                                                "focus": function () {
                                                    if (this.iframe_document) {
                                                        var iframeHeight = this.iframe_document.body.scrollHeight;
                                                        this.$iframe[0].style.height = iframeHeight
                                                            + "px";
                                                    }
                                                },
                                                "image.loaded": function ($img) {
                                                    // IE에서 이미지 로드 후, 커서 위치 재조정
                                                    if (/(trident).+rv[:\s]([\w\.]{1,9}).+like\sgecko/i
                                                        .test(navigator.userAgent)) {
                                                        var _this = this;
                                                        var _img = $img[0];
                                                        setTimeout(
                                                            function () {
                                                                _this.selection
                                                                    .setAfter(_img);
                                                                _this.selection
                                                                    .restore();
                                                            }, 300);
                                                    }
                                                },
                                            };

                                            EC_FROALA_INSTANCE = new FroalaEditor(
                                                "textarea#content.ec-fr-never-be-duplicated",
                                                o,
                                                function () {
                                                    EC_FROALA_ID = this.id;
                                                    if (d != "") {
                                                        this.html
                                                            .set(this.clean
                                                                .html(d));
                                                        // 타겟 textarea 태그에 change 트리거링
                                                        this.undo
                                                            .saveStep();
                                                    }
                                                    var script = document
                                                        .createElement("script");
                                                    script.src = "//img.echosting.cafe24.com/editors/froala/js/polyfill.min.js";
                                                    this.$iframe.get(0).contentWindow.document.head
                                                        .appendChild(script);
                                                });

                                            EC_FROALA_INSTANCE.$iframe[0]
                                                .setAttribute("id",
                                                    "content"
                                                    + "_IFRAME");
                                            EC_FROALA_INSTANCE.$iframe[0].contentWindow.document.body
                                                .setAttribute("id",
                                                    "content" + "_BODY");

                                            EC_FROALA_INSTANCE.isEmptyContent = function () {
                                                var c = getContentFromFroala(this.id);
                                                // 스페이스바만 입력 저장시, validation을 위해 처리
                                                var val = c
                                                    .replace(
                                                        /\<br\/?\>|\<\/?p\>|\s|&nbsp;/gi,
                                                        "");
                                                if ("" == val)
                                                    return true;
                                                return false;
                                            };

                                            EC_FROALA_INSTANCE.getContentFromFroala = function () {
                                                return getContentFromFroala(this.id);
                                            };

                                            EC_FROALA_INSTANCE.applyContentToFroala = function (
                                                content) {
                                                return applyContentToFroala(
                                                    content, this.id);
                                            };

                                            EC_FROALA_INSTANCE.setValueBeforeSubmit = function (
                                                sSection) {
                                                return setValueBeforeSubmit(
                                                    sSection, this.id);
                                            };

                                            if (typeof $Editor === "undefined") {
                                                $Editor = {};
                                            }
                                            $Editor["content"] = EC_FROALA_INSTANCE;
                                        } catch (e) {
                                            document.getElementById("content").value = d;
                                            console.error(e);
                                        } finally {
                                        }
                                    })();

                                    //플로알라 에디터 내용 조회
                                    function getContentFromFroala(id) {
                                        try {
                                            var sFroalaId = (typeof id === "undefined") ? EC_FROALA_ID
                                                : id;
                                            var oEditor = FroalaEditor.INSTANCES
                                                .filter(function (instance) {
                                                    return instance.id === sFroalaId;
                                                });
                                            if (oEditor[0].codeView.isActive()) {
                                                oEditor[0].codeView.toggle();
                                            }

                                            return oEditor[0].html.get(true);

                                        } catch (e) {
                                            console.error(e);
                                            return false;
                                        }
                                    }

                                    //플로알라 에디터 내용 적용
                                    function applyContentToFroala(content, id) {
                                        try {
                                            var sFroalaId = (typeof id === "undefined") ? EC_FROALA_ID
                                                : id;
                                            var oEditor = FroalaEditor.INSTANCES
                                                .filter(function (instance) {
                                                    return instance.id === sFroalaId;
                                                });

                                            oEditor[0].html
                                                .set(oEditor[0].clean
                                                    .html(content));

                                            // textarea 태그에 change 트리거링
                                            oEditor[0].undo.saveStep();
                                            return true;
                                        } catch (e) {
                                            console.error(e);
                                            return false;
                                        }
                                    }

                                    // useclasses 옵션 사용시, froala 커스텀 속성값 (fr-draggable) 제거
                                    function setValueBeforeSubmit(sSection, id) {
                                        try {
                                            var sFroalaId = (typeof id === "undefined") ? EC_FROALA_ID
                                                : id;
                                            var oEditor = FroalaEditor.INSTANCES
                                                .filter(function (instance) {
                                                    return instance.id === sFroalaId;
                                                });

                                            var contents = oEditor[0].el.innerHTML;
                                            document.getElementById(sSection).value = contents
                                                .replace(
                                                    /\sclass=("|')fr-draggable("|')|\s?fr-draggable\s?/gi,
                                                    "");

                                            return true;
                                        } catch (e) {
                                            console.error(e);
                                            return false;
                                        }
                                    }

                                    //플로알라 front reset CSS 가져오기
                                    //Deprecated
                                    function getFroalaResetCSS() {
                                        return "//img.echosting.cafe24.com/editors/froala/css/froala_editor_reset.css;"
                                    }

                                    //플로알라 front style CSS 가져오기
                                    function getFroalaStyleCSS() {
                                        return "//img.echosting.cafe24.com/editors/froala/css/froala_style.min.css";
                                    }

                                    //플로알라 front style EC CSS 가져오기
                                    function getFroalaECStyleCSS() {
                                        return "//img.echosting.cafe24.com/editors/froala/css/froala_style_ec.min.css";
                                    }

                                    // 파일 업로드시 랜덤한 파라미터 값 추가
                                    function getConvertUrlBeforeUpload(
                                        sUploadUrl) {
                                        var aSplitUrl = sUploadUrl.split("?");
                                        var oParam = getParameterUploadUrl(aSplitUrl[1]);

                                        return decodeURIComponent(aSplitUrl[0]
                                            + "?"
                                            + "uploadPath="
                                            + oParam["uploadPath"]
                                            + "&uploadId="
                                            + Math
                                                .floor(
                                                    (Math.random() * 100000))
                                                .toString());
                                    }

                                    function getParameterUploadUrl(sQueryString) {
                                        var aParam = {};

                                        if (sQueryString) {
                                            var aFields = sQueryString
                                                .split("&");
                                            var aField = [];
                                            for (var i = 0; i < aFields.length; i++) {
                                                aField = aFields[i].split("=");
                                                aParam[aField[0]] = aField[1];
                                            }
                                        }
                                        return aParam;
                                    }
                                </script>
                            </td>
                        </tr>
                        </tbody>
                        <tbody class="">
                        <tr style="border-bottom: 0px; border-top: 0px;">
                            <td colspan="3" style=" padding-bottom: 0;">
                                <input class="input_button" id="cancel_post" type="button" value="취소"
                                       style="font-size: 20px;" onclick="closeForm()"/>

                                <input class="input_button" id="write_post" type="button" value="등록" onclick="send()"
                                       style="font-size: 20px;"
                                />
                            </td>
                        </tr>
                        </tbody>
                    </table>
                </form>
                <!-- form 태그 끝 -->
            </div>
            <!-- div_write 끝 -->


            <!-- 답변 반복 돌리는 부분-->
            <th:block th:each="answerList, i:${answerList}">
                <div class="content main contentWrap" th:id="|start${i.index}|"
                     th:style="${i.index>4 ? 'display: none;' : 'display : block;'}">

                    <section class="tiles">
                        <form method="post" action="/detail/answerList">
                            <div style="width: 100%;margin: auto" class="wrap" th:object="${answerList}">
                                <div class="board_detail_wrap">
                                    <div class="board_question">
                                        <div class="board_title_wrap" style="margin-left: 7.7%;"><!--의사 프로필-->
                                            <div style="display: flex;">
                                                <img th:src="@{/upload/} + *{uploadPath} + @{/} + *{uuid} + @{_} + *{fileName}"
                                                     alt="이미지 없음"><!--의사 사진-->
                                                <div style="margin-left: 10px;" class="replyTitleWrap">
                                                    <div>
                                                        <span class="board_title" th:text="*{docName}" style="font-size: 21px;"><!--의사이름--></span>
                                                        <span class="board_btn_wrap">
                                                         <a href="appointment" class="btn_reple">진료 예약</a>
                                                        </span>
                                                    </div>
                                                    <div class="board_title_detail" style="font-size: 16px;"
                                                         th:text="|*{docMajor} / *{docAddress}|"><!--병원 주소--></div>
                                                </div>
                                            </div>

                                        </div>

                                        <div style="margin-left: 3.8%;">
                                            <div style="display: inline;width: 116px;  text-align: right; float: left">
                                                <img src="https://cdn.iconscout.com/icon/free/png-256/a-button-blood-type-37808.png"
                                                     alt="" style="width: 80px">
                                            </div>
                                            <div class="board_content"><!--내용-->
                                                <div style="margin: auto;margin-left: 0.8%;" th:utext="*{reQnaContent}"> </div>
                                            </div>
                                        </div>

                                        <br><br>
                                        <div style=" height: 40px;clear: both;"></div>
                                        <div class="board_date" style=" width: 66%; clear: both; margin: auto;"
                                             th:utext="*{reQnaDate}">
                                            <!--2021.10.17-->
                                        </div>

                                        <div class="reWrite" style="margin: auto; width: 73%;"
                                             th:if="${answerList.docNo==loginCheck}">

                                            <button type="button" th:onclick="'remove('+*{reQnaNo}+')'" style="font-size: 15px;">삭제</button>
                                        </div>

                                        <div style="text-align: right">
                                            <a href="#" class="button primary fit btn_like"
                                               style="width: 25% !important; background: white; color: black !important;">
                                                <img src="/img/like.jpg" alt=""
                                                     style="width: 22px;position: relative;top: 4px;">
                                                좋아요</a>
                                            <a href="#" class="button primary fit btn_report"
                                               style="width: 28% !important;    background-color: white !important; color: black!important;  border-radius: 0px !important;">
                                                <img src="/img/report.png" alt=""
                                                     style="width: 22px;position: relative;top: 4px;">
                                                신고하기</a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </form>
                    </section>


                </div>


                <th:block th:if="${i.index!=0&&i.index%5==0}">
                    <div class="newView" th:id="|new${i.index}|">
                        <button th:onclick="'viewOpen('+${i.index}+')'">5개 더보기</button>
                    </div>
                </th:block>
            </th:block>

            <!--반복 돌리는 부분-->


        </div>
    </section>


    <!-- Footer -->
    <footer id="footer"></footer>

</div>

<!-- Scripts -->
<script src="/js/jquery.min.js"></script>
<script src="/js/jquery.dropotron.min.js"></script>
<script src="/js/jquery.selectorr.min.js"></script>
<script src="/js/jquery.scrollex.min.js"></script>
<script src="/js/jquery.scrolly.min.js"></script>
<script src="/js/browser.min.js"></script>
<script src="/js/breakpoints.min.js"></script>
<script src="/js/util.js"></script>
<script src="/js/main.js"></script>
<script src="/js/fix.js"></script>
<!-- Scripts -->
<script th:inline="javascript">
    let a = 0;
    let btnView = document.getElementsByClassName('newView');
    for (let k = 0; k < btnView.length; k++) {
        btnView[k].style.display = 'none';
    }

    if (btnView[a] != null) {
        btnView[a].style.display = 'block';
    }

    // $(function(){
    //     $("#start").slice(0, 3).show(); // 최초 10개 선택
    //     $("#load").click(function(e){ // Load More를 위한 클릭 이벤트e
    //         e.preventDefault();
    //         $("#start:hidden").slice(0, 3).show(); // 숨김 설정된 다음 10개를 선택하여 표시
    //         if($("#start:hidden").length == 0){ // 숨겨진 DIV가 있는지 체크
    //             alert("더 이상 항목이 없습니다"); // 더 이상 로드할 항목이 없는 경우 경고
    //         }
    //     });
    // });

    function viewOpen(index) {
        let newView = document.getElementById('new' + index);
        newView.style.display = 'none';
        a++;
        if (a != btnView.length) {
            btnView[a].style.display = 'block';
        }

        for (let k = index; k < index + 5; k++) {
            let start = document.getElementById('start' + k);
            if (start == null) {
                break;
            }
            start.style.display = 'block';

        }
    }

    let loginCheck = [[${loginCheck}]];
    let answerList = [[${answerList}]];

    document.onload = function () {
    }

    // let reWrite = document.getElementsByClassName('reWrite');
    // for(let b= 0;b<reWrite.length;b++){
    //     reWrite[b].style.display='none';
    //     console.log("login : "+loginCheck);
    //     console.log(answerList[b].docNo);
    //     if(loginCheck==answerList[b].docNo){
    //         reWrite[b].style.display='block';
    //     }
    // }


    let btnReply = document.getElementById('btn_reply');
    let divWrite = document.getElementById('div_write');
    let cancel = document.getElementById('cancel_post');

    divWrite.style.display = 'none';


    function openForm() {
        if (loginCheck == 0) {
            alert('의사 회원만 답글을 달 수 있습니다.');
            return;
        }
        btnReply.style.visibility = 'hidden';
        divWrite.style.display = 'block';
    }

    function closeForm() {
        btnReply.style.visibility = 'visible';
        divWrite.style.display = 'none';
    }


    function send() {
        let content1 = document.getElementById("content").value;
        let loginCheck = [[${loginCheck}]];
        // let content1 ={"content1":$('#content').val()};
        $.ajax({
            url: "/detail/answer",
            contentType: "application/json; charset=utf-8",
            data: content1,
            type: 'post',
            success: function (result) {
                history.go(0);
            }
        });
    }


    function remove(qnaNo) {
        $.ajax({
            url: "/mainBoard/remove/" + qnaNo,
            type: 'delete',
            success(result) {
                history.go(0);
            }
        });
    }


    function getList(qnaNo) {
        let content = "";
        let address = "";

        $.ajax({
            url: "/mainBoard/replyList/" + qnaNo,
            type: "get",
            success: function (result) {
                console.log(result);
                if (result.length == 0) {
                }
                for (i = 0; i < result.length; i++) {
                    content = result[i].reQnaContent;
                    address = result[i].docAddress;

                    $(".board_title").html(content);
                    $(".board_title_detail").html(address);
                }
            }
        })
    }

</script>

</body>
</html>