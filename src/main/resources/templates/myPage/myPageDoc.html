<!DOCTYPE HTML>
<!--
	Hypothesis by Pixelarity
	pixelarity.com | hello@pixelarity.com
	License: pixelarity.com/license
-->
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Untitled</title>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no"/>
    <link rel="stylesheet" href="/css/main.css"/>
</head>
<style>
    .module .layer_bg {
        position: fixed;
        background: rgba(255,255,255,0.7);
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        z-index: 90;
    }

    .module .layer_poc {
        position: absolute;
        top: 0;
        left: 50%;
        width: 510px;
        border: 1px solid #ccc;
        border-top: 3px solid #358bca;
        margin: -200px 0 0 -249px;
        background: #fff;
        padding: 1%;
        z-index: 100;
    }

    .module .layer_poc .poc_title {
        font-size: 25px;
        line-height: 42px;
        color: #358bca;
        letter-spacing: -1px;
    }

    .module .layer_poc .poc_text {
        font-size: 17px;
        line-height: 26px;
        color: #333;
        letter-spacing: -0.5px;
        border-bottom: 1px solid #e9e9e9;
        padding-bottom: 20px;
    }
    .module .btn_close {
        text-indent: -9999px;
        font-size: 0;
        line-height: 0;
        position: absolute;
        top: 25px;
        right: 23px;
        background: url(//cdnimg.melon.co.kr/resource/image/web/cm/btn_tableClose.png) 0 0 no-repeat;
        width: 22px;
        height: 22px;
    }

    textarea {resize: none;border-radius: 0;box-shadow: none;}

    .content.main {
        width: 90%;
        margin: auto;
        border-radius: 25px;
        padding: 3rem 4rem 3rem 4rem !important;
    }
    #wrapper > .main > .inner > .content {
        min-height: 460px;
    }

    .tab {
        height: 348px;
        width: 17%;
        background-color: #bfb9b91c;
    }
    .tabcontent {
        display: block;
        width: 80%;
        padding-left: 5%;
    }

    .tab button {
        box-shadow: none !important;
        border: none;
        border-radius: 0;
        width: 100%;
        font-size: 1rem !important;
        color: #333333 !important;
    }
    .tab button.active {
        background-color: #358bca80 !important;
        color: white !important;
    }


    /* 강사님 css */
    hr {
        margin:0;
    }

    hr.dark{
        border-bottom-color: #000;
    }

    div.area {
        margin-bottom: 1%;
    }

    input.phone   {
        width: 80px;
        height: 30px;
        display: inline;
    }

    div.info {
        font-size: 0.9rem;
    }

    div.info div div {
        font-size: 12px;
    }
    div.info label {
        margin:0;
        display:inline-block;
        width:200px;
        font-size: 11px;
    }

    p#checkPhone {
        display: inline-block;
        margin: 0 0 0 2%;
        font-size: 0.7em;
    }

    div.info div div {
        vertical-align: middle;
        display: inline-block;
        line-height: 30px;
        padding: 7px 0;
        width: 350px;
    }

    div.info input[type='text'], div.info input[type='password']{
        border-color: #bfb9b95c;
        padding-right: 0;
        padding-left: 4.7%;
    }


    div.info input[type='text']:not(.phone), div.info input[type='password'] {
        height: 30px;
        width: 260px;
    }

    .profile {
        font-weight: bold;
    }

    input[type="submit"].small, input[type="reset"].small, input[type="button"].small, button.small, .button.small {
        font-size: 0.9rem;
        height: 2.0625rem;
        line-height: 2.0625rem;
        border-radius: 0;
        padding: 0 1.25rem;
        box-shadow: none;
    }

    .div2 {
        display: flex !important;
        align-items: center;
    }

    input[type="text"] {
        border-radius: 0;
    }

    input[type="password"] {
        border-radius: 0;
    }

    .box {
        border-color: #358bca;
    }
    .ulBox ul li::marker {
        font-family: 'Font Awesome 5 Free';
        content: "\f138";
        position: absolute;
        left : 1em;
        color: black;
    }

    .ulBox ul {
        padding-top: 0 !important;
        padding: revert;
        font-weight: 900;
        line-height: 35px;
        margin: 0;
    }

    a {
        border: none;
    }

    table {
        margin: 0 0 2rem 0;
        width: 100%;
        border-top: 1.1px solid;
        border-bottom: 1.1px solid;
    }

    table tbody tr {
        border-left: 0;
        border-right: 0;
        border-top: 1px solid;
    }

    table th {
        font-size: 1rem;
        font-weight: 400;
        padding: 0.5rem 0.75rem;
        text-align: left;
    }

    table td {
        font-size: 0.8rem;
        background-color: white;
        padding: 0.5rem 0.75rem;
    }

    .th1 {
        width: 20%;
    }

    .th3 {
        width: 20%;
    }

    .th4 {
        width: 12%;
    }

    code {
        background: white;
        border-color: white;
    }



    #map {
        height: 425px;
        width: 100%;
    }

    .gm-control-active {
        display: none !important;
    }
    .gmnoprint {
        display: none !important;
    }

    #map input {
        height: 40px;
        width: 261px;
        border-color: #bfb9b95c;
        padding: 0;
    }

    .search {
        width: 23% !important;
        background-color: white !important;
        left: 54.8% !important;
        box-shadow: none !important;
        border-radius: 0 !important;
        height: 40px !important;
        border: 1px solid !important;
        border-color: #bfb9b95c !important;
        line-height: 40px !important;
    }
    .search:hover{
        background-color: #358bca !important;
        color: white !important;
    }
    .clear {
        width: 23% !important;
        background-color: white !important;
        color: #1a73e8;
        left: 77% !important;
        box-shadow: none !important;
        border-radius: 0 !important;
        height: 40px !important;
        border: 1px solid !important;
        border-color: #bfb9b95c !important;
        line-height: 40px !important;
    }
    .clear:hover{
        background-color: #358bca !important;
        color: white !important;
    }

    /*회원권*/

    div.price{
        display: inline;
    }

    /*결제 DIV*/
    dl dt{
        margin: 0;
    }

    dl dd{
        margin: auto;
    }

    dl{
        margin: 6%;
        padding-left: 45%;
    }

    div.basic{
        display: flex;
        border: 2px solid #358bca;
        padding: 2%;
        border-radius: 15px;
        margin-bottom: 5%;
        margin-top: 5%;
        background: linear-gradient(
                45deg, #358bca, transparent);
    }

    div.standard{
        display: flex;
        border: 2px solid silver;
        padding: 2%;
        border-radius: 15px;
        margin-bottom: 5%;
        margin-top: 5%;
        background: linear-gradient(
                45deg, silver, transparent);
    }

    div.premium{
        display: flex;
        border: 2px solid gold;
        padding: 2%;
        border-radius: 15px;
        margin-bottom: 5%;
        margin-top: 5%;
        background: linear-gradient(
                45deg, gold, transparent);
    }

    div.product_titleArea{
        width: 30%;
        padding: 1%;
        border-right: 2px solid #1b1a1a40;
    }

    p.text{
        margin: auto;
    }

    div.product_info{
        width: 65%;
    }

    div.regular_payment{
        display: flex;
        justify-content: space-between;
        align-items: center;
    }

    div button{
        box-shadow: none;
        font-size: 16px;
    }

    span.sale_price{
        font-weight: bold;
    }
</style>
<body class="is-preload">

<!-- Wrapper -->
<div id="wrapper">

    <!-- Header -->
    <header id="header"></header>

    <!-- Section -->
    <section id="one" class="main alt">
        <div class="inner alt">
            <div class="content main">
                <section class="tiles" style="display: flex">


                    <!-- Tab links -->
                    <div class="tab">
                        <button class="tablinks" onclick="openCity(event, 'myOne')" id="defaultOpen">내 정보</button>
                        <button class="tablinks" onclick="openCity(event, 'myTwo')">답변 내역</button>
                        <button class="tablinks" onclick="openCity(event, 'myThree')">진료 예약</button>
                        <button class="tablinks" onclick="openCity(event, 'myFour')">봉사 신청</button>
                        <button class="tablinks" onclick="openCity(event, 'myFive')">회원권</button>
                    </div>

                    <!-- Tab content -->
                    <div id="myOne" class="tabcontent">
                        <div th:object="${doc}">
                            <fieldset class="first">
                                <div class='area'>
                                    <h3 style="margin-bottom: 1%;">회원정보</h3>
                                    <div style="display: flex; justify-content: space-between;">
                                        <p style='font-size: 0.6em; margin-bottom: 1%; padding-top: 2%;'>
                                            <span style='color:red;'>*</span>
                                            표시는 필수입력 항목 이오니 반드시 입력해 주세요.
                                        </p>
                                        <div>
                                            <button id="modifyProfile" class="button small" style="float: right;">수정하기</button>
                                        </div>
                                    </div>
                                    <div class='info'>
                                        <hr class='dark'>
                                        <div>
                                            <label class="profile">이름</label>
                                            <div th:text="*{docName}"></div>
                                        </div>
                                        <hr>
                                        <div>
                                            <label class="profile">휴대폰 번호<span style='color:red; font-size:1em;'> *</span></label>
                                            <div th:text="|*{#strings.substring(docPhoneNum, 0, 3)} - *{#strings.substring(docPhoneNum, 3, 7)} - *{#strings.substring(docPhoneNum, 7, 11)}|"></div>
                                        </div>
                                        <hr>
                                        <div>
                                            <label class="profile">병원 번호<span style='color:red; font-size:1em;'> *</span></label>
                                            <div th:text="*{docHosPhone}"></div>
                                        </div>
                                        <hr>
                                        <div>
                                            <label class="profile">e-mail<span style='color:red; font-size:1em;'> *</span></label>
                                            <div th:text="*{docEmail}"></div>
                                        </div>
                                        <hr>
                                        <div>
                                            <label class="profile">전공</label>
                                            <div th:text="*{docMajor}"></div>
                                        </div>
                                        <hr>
                                        <div>
                                            <label class="profile">소속기관<span style='color:red; font-size:1em;'> *</span></label>
                                            <div th:text="*{docHospitalName}"></div>
                                        </div>
                                        <hr>
                                        <div>
                                            <label class="profile">주소<span style='color:red; font-size:1em;'> *</span></label>
                                            <div th:text="*{docAddress}"></div>
                                        </div>
                                        <hr>
                                        <div>
                                            <label class="profile">약력<span style='color:red; font-size:1em;'> *</span></label>
                                            <textarea rows="6" th:utext="*{docHistory}" onkeydown="resize(this)" onkeyup="resize(this)"name="docHistory" readonly style="margin-left: 23%;width: 72%;overflow:visible; margin-bottom: 3%;"></textarea>
                                        </div><!--*{#strings.replace(docHistory,'line.separator','&lt;br /&gt;')}-->
                                        <input type="hidden" th:value="*{docNo}" id="docNo">
                                        <div th:text="*{docNo}"></div>
                                        <hr>
                                        <div style="display: flex;">
                                            <div style="display: flex;">
                                                <label class="profile">신고 횟수</label>
                                                <div th:text="*{docReportCnt}"></div>
                                            </div>
                                            <div style="display: flex;">
                                                <label class="profile">좋아요</label>
                                                <div th:text="*{docLikeCnt}"></div>
                                            </div>
                                        </div>
                                        <hr class='dark'>
                                    </div>
                                </div>
                            </fieldset>
                            <!-- 수정 버튼 누르면 나오는 곳 -->
                            <fieldset class="first" style="display: none;">
                                <!--<form method="post" action="/myPage/updateDoc" id="updateDoc" name="updateDoc">-->
                                <div class='area'>
                                    <h3 style="margin-bottom: 1%;">회원정보</h3>
                                    <div style="display: flex; justify-content: space-between;">
                                        <p style='font-size: 0.6em; margin-bottom: 1%; padding-top: 2%;'>
                                            <span style='color:red;'>*</span>
                                            표시는 필수입력 항목 이오니 반드시 입력해 주세요.
                                        </p>
                                    </div>
                                    <div class='info'>
                                        <hr class='dark'>
                                        <div>
                                            <label class="profile">이름</label>
                                            <div th:text="*{docName}"></div>
                                        </div>
                                        <hr>
                                        <div>
                                            <label for="docPhoneNum1" class="profile">휴대폰 번호<span style='color:red; font-size:1em;'> *</span></label>
                                            <div style="padding: 0;">
                                                <div class="div2">
                                                    <input class='phone' th:value="*{#strings.substring(docPhoneNum, 0, 3)}" type='text' id='docPhoneNum1' name='docPhoneNum1'>
                                                    - <input class='phone' th:value="*{#strings.substring(docPhoneNum, 3, 7)}" type='text' id='docPhoneNum2' name='docPhoneNum2'>
                                                    - <input class='phone' th:value="*{#strings.substring(docPhoneNum, 7, 11)}" type='text' id='docPhoneNum3' name='docPhoneNum3'>
                                                    <button type="button" id="checkNum" style="border-radius: 0">인증</button>
                                                </div>
                                            </div>
                                        </div>
                                        <div>
                                            <label for="numStr" class="profile">인증번호<span style='color:red; font-size:1em;'> *</span></label>
                                            <div class="td6" style="padding: 0;">
                                                <div class="div2">
                                                    <input type="text" id="numStr" name="code" placeholder="인증번호">
                                                   <button type="button" id="checkNumStr" style="border-radius: 0">확인</button>
                                                </div>
                                            </div>
                                        </div>
                                        <hr>
                                        <div>
                                            <label for="docEmail" class="profile">e-mail<span style='color:red; font-size:1em;'> *</span></label>
                                            <div>
                                                <input type='text' th:value="*{docEmail}" id='docEmail' name='docEmail'>
                                            </div>
                                        </div>
                                        <hr>
                                        <div>
                                            <label for="docHosPhone" class="profile">병원 번호<span style='color:red; font-size:1em;'> *</span></label>
                                            <div>
                                                <input type='text' th:value="*{docHosPhone}" id='docHosPhone' name='docHosPhone'>
                                            </div>
                                        </div>
                                        <hr>
                                        <div>
                                            <label class="profile">전공</label>
                                            <div th:text="*{docMajor}">
                                            </div>
                                        </div>
                                        <hr>
                                        <div>
                                            <label for="docHospitalName" class="profile">소속기관<span style='color:red; font-size:1em;'> *</span></label>
                                            <div>
                                                <p style='font-size: 0.6em; margin-bottom: 0%; padding-top: 0%;'>
                                                    <span style='color:red;'>*</span>
                                                    기관명
                                                </p>
                                                <div>
                                                    <input type='text' th:value="*{docHospitalName}" id='docHospitalName' name='docHospitalName'>
                                                </div>
                                                <p style='font-size: 0.6em; margin-bottom: 0%; padding-top: 5%;'>
                                                    <span style='color:red;'>*</span>
                                                    원하는 위치를 클릭시 해당 지점으로 좌표가 등록됩니다.
                                                </p>
                                                <div id="map" style="width: 435px"></div>
                                                <label for="docAddress" class="profile">상세주소<span style='color:red; font-size:1em;'> *</span></label>
                                                <input type="text" th:value="*{docAddress}" name="docAddress" id="docAddress"/>
                                            </div>
                                        </div>
                                        <hr>
                                        <div>
                                            <label class="profile">약력<span style='color:red; font-size:1em;'> *</span></label>
                                            <div class="td7" style="width: 100%">
                                                <textarea id="docHistory" th:text="*{docHistory}" name="docHistory" rows="6" style="width: 72%; margin-left: 25%;"></textarea>
                                                <!--<div class="div3" style="display: flex;">
                                                    <input id="docHistory" type="text" th:value="*{docHistory}" name="history" value="" placeholder="약력">
                                                    <input type="hidden" name="docHistory">
                                                    <a class="button small" onclick="addInput()" style="width: 80px; margin: auto;">추가</a>
                                                </div>-->
                                            </div>
                                        </div>
                                        <hr>
                                        <div>
                                            <label for="password" class="profile">비밀번호 변경<span style='color:red; font-size:1em;'> *</span></label>
                                            <div><input id="password" type='password' name='password' th:value="*{docPw}" ></div>
                                        </div>
                                        <div>
                                            <label for="passwordCheck" class="profile">비밀번호 확인<span style='color:red; font-size:1em;'> *</span></label>
                                            <div><input id="passwordCheck" type='password' name='passwordCheck' th:value="*{docPw}"></div>
                                        </div>
                                        <hr class='dark'>
                                    </div>
                                </div>
                                <div style="display: flex; justify-content: center">
                                    <!--<a href="#" onclick="" class="button small" style="margin-right: 5%; width: 80px; padding: initial;">변경하기</a>-->
                                    <button type="button" id="update" class="button small" style="margin-right: 5%; width: 80px;">수정</button>
                                    <button id="back" class="button small" style="margin-right: 5%; width: 80px;">취소</button>
                                </div>

                                <!--                                </form>-->
                            </fieldset>
                        </div>
                    </div>

                    <div id="myTwo" class="tabcontent">
                        <h3 style="text-align: center">답변 내역</h3>
                        <table>
                            <thead>
                            <tr class="">
                                <th class="th1"><strong>진료과목</strong></th>
                                <th class="th2"><strong>제목</strong></th>
                                <th class="th3"><strong>날짜</strong></th>
                                <th class="th4"><strong>조회수</strong></th>
                            </tr>
                            </thead>
                            <tbody>
                            <th:block th:each="list:${getQnaReply}">
                                <tr class="" th:object="${list}">
                                    <td class="" th:text="*{qnaMajor}"></td>
                                    <!--<td class="" th:text="*{volunteerBoardTitle}"></td>-->
                                    <td class=""><a id="goReply" th:href="*{qnaNo}" th:text="*{qnaTitle}"></a></td>
                                    <td class="" th:text="*{#strings.substring(reQnaDate, 0, 10)}"></td>
                                    <td class="" th:text="*{reQnaLike}"></td>
                                </tr>
                            </th:block>
                            </tbody>
                        </table>
                        <!--<div th:object="${pageMaker}">
                            <div style="text-align: center">
                                <a class="changePage" th:if="*{prev}" th:href="*{criteria.getPageNum() - 1}"><code>&lt;</code></a>
                                <th:block th:each="num : ${#numbers.sequence(pageMaker.getStartPage(), pageMaker.getEndPage())}">
                                    <code th:if="${pageMaker.criteria.getPageNum() == num}" th:text="${num}"></code>
                                    <a class="changePage" th:unless="${pageMaker.criteria.getPageNum() == num}" th:href="${num}"><code th:text="${num}"></code></a>
                                </th:block>
                                <a class="changePage" th:if="*{next}" th:href="*{criteria.getPageNum() + 1}"><code>&gt;</code></a>
                            </div>
                            <form action="/volunteer/volunteerBoard" th:object="${criteria}" name="pageForm">
                                <input type="hidden" name="pageNum" th:field="*{pageNum}">
                                <input type="hidden" name="amount" th:field="*{amount}">
                            </form>
                        </div>-->
                    </div>

                    <div id="myThree" class="tabcontent">
                        <h3 style="text-align: center">진료 예약</h3>
                        <table>
                            <thead>
                            <tr class="">
                                <th class=""><strong>이름</strong></th>
                                <th class=""><strong>전화번호</strong></th>
                                <th class=""><strong>진료과목</strong></th>
                                <th class=""><strong>날짜</strong></th>
                            </tr>
                            </thead>
                            <tbody>
                            <th:block th:each="getAppList:${getAppList}">
                                <tr class="" th:object="${getAppList}">
                                    <td class="" th:text="*{userName}"></td>
                                    <td class="" th:text="*{userPhoneNum}"></td>
                                    <td class="" th:text="*{docMajor}">피부과</td>
                                    <td class="" th:text="*{#strings.substring(reserveDate, 0, 10)}"></td>
                                </tr>
                            </th:block>
                            </tbody>
                        </table>
                        <!--<div th:object="${pageMaker}">
                            <div style="text-align: center">
                                <a class="changePage" th:if="*{prev}" th:href="*{criteria.getPageNum() - 1}"><code>&lt;</code></a>
                                <th:block th:each="num : ${#numbers.sequence(pageMaker.getStartPage(), pageMaker.getEndPage())}">
                                    <code th:if="${pageMaker.criteria.getPageNum() == num}" th:text="${num}"></code>
                                    <a class="changePage" th:unless="${pageMaker.criteria.getPageNum() == num}" th:href="${num}"><code th:text="${num}"></code></a>
                                </th:block>
                                <a class="changePage" th:if="*{next}" th:href="*{criteria.getPageNum() + 1}"><code>&gt;</code></a>
                            </div>
                            <form action="/volunteer/volunteerBoard" th:object="${criteria}" name="pageForm">
                                <input type="hidden" name="pageNum" th:field="*{pageNum}">
                                <input type="hidden" name="amount" th:field="*{amount}">
                            </form>
                        </div>-->
                    </div>

                    <div id="myFour" class="tabcontent">
                        <h3 style="text-align: center">봉사 신청</h3>
                        <table>
                            <thead>
                            <tr class="">
                                <th class="th1"><strong>지역</strong></th>
                                <th class="th2"><strong>제목</strong></th>
                                <th class="th4"><strong>인원수</strong></th>
                                <th class="th3"><strong>날짜</strong></th>
                            </tr>
                            </thead>
                            <tbody>
                            <th:block th:each="list:${getVolList}">
                                <tr class="" th:object="${list}">
                                    <td class="" th:text="*{volunteerArea}"></td>
                                    <!--<td class="" th:text="*{volunteerBoardTitle}"></td>-->
                                    <td class=""><a id="goRead" th:href="*{applicantsNo}" th:text="*{volunteerBoardTitle}"></a></td>
                                    <td class="" th:text="*{applicants}"></td>
                                    <td class="" th:text="*{#strings.substring(applicationDate, 0, 10)}"></td>
                                </tr>
                            </th:block>
                            </tbody>
                        </table>
                        <!--<div th:object="${pageMaker}">
                            <div style="text-align: center">
                                <a class="changePage" th:if="*{prev}" th:href="*{criteria.getPageNum() - 1}"><code>&lt;</code></a>
                                <th:block th:each="num : ${#numbers.sequence(pageMaker.getStartPage(), pageMaker.getEndPage())}">
                                    <code th:if="${pageMaker.criteria.getPageNum() == num}" th:text="${num}"></code>
                                    <a class="changePage" th:unless="${pageMaker.criteria.getPageNum() == num}" th:href="${num}"><code th:text="${num}"></code></a>
                                </th:block>
                                <a class="changePage" th:if="*{next}" th:href="*{criteria.getPageNum() + 1}"><code>&gt;</code></a>
                            </div>
                            <form action="/volunteer/volunteerBoard" th:object="${criteria}" name="pageForm">
                                <input type="hidden" name="pageNum" th:field="*{pageNum}">
                                <input type="hidden" name="amount" th:field="*{amount}">
                            </form>
                        </div>-->
                    </div>

                    <div id="myFive" class="tabcontent">
                        <table style="border: 0;">
                            <tr class="" style="border-color: white;">
                                <td class="" style="margin: auto; background-color: white;">
                                    <div class="product">
                                        <div class="card_div">
                                            <h3 style="margin-bottom: 1%;">결제 정보</h3>
                                            <div style="display: flex;">
                                                <div>
                                                    <button class="button small" id="regist_card">카드 정보 등록</button>
                                                </div>
                                                <div>
                                                    <button class="button small" id="update_card">카드 정보 수정</button>
                                                </div>
                                                <div  style="margin-left: 43%;">
                                                    <button id="goPay" class="button small">회원권 구매</button>
                                                </div>
                                            </div>
                                            <hr class='dark'>
                                            <div th:object="${doc}">
                                                <hr>
                                                <div class="basic">
                                                    <div class="product_titleArea" th:object="${pay}">
                                                        <th:block th:if="*{name == null}">
                                                            <h4 class="title">BASIC 회원권</h4>
                                                        </th:block>
                                                        <th:block th:unless="*{name == null}">
                                                            <h4 class="title" th:text="*{name}">BASIC 회원권</h4>
                                                        </th:block>
                                                    </div>
                                                    <div class="product_info">
                                                        <div class="regular_payment">
                                                            <div class="ulBox" style="padding-left: 2%">
                                                                <ul style="padding: revert; font-weight: 900; line-height: 35px;">
                                                                    <li th:text="|*{docName}[*{docMajor}]|"></li>
                                                                    <li th:text="*{docHospitalName}"></li>
                                                                    <li>진료 예약 : 5회</li>
                                                                    <li>답변 개수 : 10회</li>
                                                                </ul>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="standard">
                                                    <div class="product_titleArea" th:object="${pay}">
                                                        <th:block th:if="*{name == null}">
                                                            <h4 class="title">BASIC 회원권</h4>
                                                        </th:block>
                                                        <th:block th:unless="*{name == null}">
                                                            <h4 class="title" th:text="*{name}">BASIC 회원권</h4>
                                                        </th:block>
                                                    </div>
                                                    <div class="product_info">
                                                        <div class="regular_payment">
                                                            <div class="ulBox" style="padding-left: 2%">
                                                                <ul style="padding: revert; font-weight: 900; line-height: 35px;">
                                                                    <li th:text="|*{docName} [*{docMajor}]|"></li>
                                                                    <li th:text="*{docHospitalName}"></li>
                                                                    <li>진료 예약 : 10회</li>
                                                                    <li>답변 개수 : 50회</li>
                                                                </ul>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="premium">
                                                    <div class="product_titleArea" th:object="${pay}">
                                                        <th:block th:if="*{name == null}">
                                                            <h4 class="title">BASIC 회원권</h4>
                                                        </th:block>
                                                        <th:block th:unless="*{name == null}">
                                                            <h4 class="title" th:text="*{name}">BASIC 회원권</h4>
                                                        </th:block>
                                                    </div>
                                                    <div class="product_info">
                                                        <div class="regular_payment">
                                                            <div class="ulBox" style="padding-left: 2%">
                                                                <ul style="padding: revert; font-weight: 900; line-height: 35px;">
                                                                    <li th:text="|*{docName} [*{docMajor}]|"></li>
                                                                    <li th:text="*{docHospitalName}"></li>
                                                                    <li>진료 예약 : 무제한</li>
                                                                    <li>답변 개수 : 무제한</li>
                                                                </ul>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div>
                                                <button class="button small" id="stop">구독 취소</button>
                                            </div>
                                            <hr class='dark'>
                                        </div>

                                        <div class="module" style="display: none;">
                                            <div class="layer_poc" style="top: 350px;">
                                                <div class="poc_top">
                                                    <h1 class="poc_title">결제정보</h1>
                                                    <p class="poc_text">결제하실 카드 정보를 입력해주세요.</p>
                                                </div>
                                                <div class="poc_cont">
                                                    <div class="inputDiv">
                                                        <div style="margin-bottom: 5%;">
                                                            <label for="card_number">카드 번호 XXXX-XXXX-XXXX-XXXX</label>
                                                            <input id="card_number" type="text" name="card_number">
                                                        </div>
                                                        <div style="margin-bottom: 5%;">
                                                            <label for="expiry">카드 유효기간 YYYY-MM</label>
                                                            <input id="expiry" type="text" name="expiry">
                                                        </div>
                                                        <div style="margin-bottom: 5%;">
                                                            <label for="birth">생년월일 YYMMDD</label>
                                                            <input id="birth" type="text" name="birth">
                                                        </div>
                                                        <div>
                                                            <label for="pwd_2digit">카드 비밀번호 앞 두자리 XX</label>
                                                            <input id="pwd_2digit" type="password" name="pwd_2digit">
                                                        </div>
                                                        <div style="text-align: center; margin-top: 7%;">
                                                            <input id="check_card" class="primary button" type="button" value="카드 등록" style="border-radius: 0; width: 100%">
                                                            <input id="check_update" class="primary button" type="button" value="카드 수정" style="border-radius: 0; width: 100%">
                                                        </div>
                                                    </div>
                                                </div>
                                                <a href="#" class="btn_close">팝업 닫기</a>
                                            </div>
                                            <div class="layer_bg"></div>
                                        </div>
                                    </div>
                                </td>
                            </tr>
                        </table>
                    </div>

                </section>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer id="footer"></footer>

</div>

<!-- Scripts -->
<script src="/js/jquery.min.js"></script>
<script src="/js/jquery.dropotron.min.js"></script>
<script src="/js/jquery.selectorr.min.js"></script>
<script src="/js/jquery.scrollex.min.js"></script>
<script src="/js/jquery.scrolly.min.js"></script>
<script src="/js/browser.min.js"></script>
<script src="/js/breakpoints.min.js"></script>
<script src="/js/util.js"></script>
<script src="/js/main.js"></script>
<script src="/js/fix.js"></script>
</body>
<script th:inline="javascript">


    let pw = [[${doc.getDocPw()}]]
    let id = [[${doc.docId}]]
    let aa = [[${doc.docHospitalName}]]
    console.log(id)
    console.log(pw)
    console.log(aa)

    function resize(obj) {
        obj.style.height = "1px";
        obj.style.height = (12+obj.scrollHeight)+"px";
    }

    /*휴대폰 인증*/
  $("#checkNum").on('click',function(){
        let docPhoneNum1 = $("#docPhoneNum1").val();
        let docPhoneNum2 = $("#docPhoneNum2").val();
        let docPhoneNum3 = $("#docPhoneNum3").val();
        let docPhoneNum = docPhoneNum1+docPhoneNum2+docPhoneNum3;
        $.ajax({
            url : "/myPage/sendSms",
            type: "post",
            dataType: "json",
            data: {docPhoneNum:docPhoneNum},
            success : function(numStr){
                $('#checkNumStr').click(function(){
                    if($.trim(numStr)==$('#numStr').val()){
                        alert("인증 성공. 휴대폰인증이 정상적으로 완료되었습니다.");

                    }else{
                        alert("인증 실패. 인증번호를 다시 확인해 주세요.");
                    }
                });
            }
        });
   })


    /*휴대폰인증 끝*/



    let membership = [[${pay.getAmount()}]];

    $(document).ready(function(){
        if(membership == 0){
            $(".basic").show();
            $(".standard").hide();
            $(".premium").hide();
        }
        if(membership == 49900){
            $(".basic").hide();
            $(".standard").show();
            $(".premium").hide();
        }
        if(membership == 99900){
            $(".basic").hide();
            $(".standard").hide();
            $(".premium").show();
        }
    })

    $(document).ready(function(){
        $("#regist_card").on("click", function(){
            $(".module").css("display", "block");
            $("#check_card").css("display", "block");
            $("#check_update").css("display", "none");
        });

        $(".btn_close").on("click", function(){
            $(".module").css("display", "none");
        });
    });

    $("#check_card").on("click", function () {

        let card_number = $("#card_number").val();
        let expiry = $("#expiry").val();
        let birth = $("#birth").val();
        let pwd_2digit = $("#pwd_2digit").val();

        let arr = {
            card_number: card_number,
            expiry: expiry,
            birth: birth,
            pwd_2digit: pwd_2digit,
            // amount: amount,
        };


        $.ajax({
            url: "/payment/cardCheck",
            method: "post",
            contentType: "application/json; charset=utf-8",
            data: JSON.stringify(arr),
            success: function (result) {
                if (result == "success") {
                    $.ajax({
                        url: "/payment/insertCustomer",
                        method: "post",
                        contentType:"application/json; charset=utf-8",
                        data: JSON.stringify(arr),
                        success:function () {
                            alert("카드 정보가 등록되었습니다.")
                            $(".module").css("display", "none");
                        }
                    });
                } else if (result == "fail") {
                    alert("카드 정보를 다시 확인해주세요.");
                };
            }
        });
    });

    $("#goPay").on("click", function(){
        $.ajax({
            url: "/payment/registCheck",
            method: "post",
            contentType:"application/json; charset=utf-8",
            success:function (result) {
                if(result == 1){
                    alert("카드 정보를 등록해주세요.")
                }else if(result == 0){
                    location.href="/membership"
                }
            }
        });
    });

    $("#update_card").on("click", function(){

        $.ajax({
            url: "/payment/registCheck",
            method: "post",
            contentType:"application/json; charset=utf-8",
            success:function (result) {
                if(result == 1){
                    alert("카드 정보를 등록해주세요.")
                }else if(result == 0){
                    $(".module").css("display", "block");
                    $("#check_card").css("display", "none");
                    $("#check_update").css("display", "block");

                    $("#check_update").on("click", function(){
                        let card_number = $("#card_number").val();
                        let expiry = $("#expiry").val();
                        let birth = $("#birth").val();
                        let pwd_2digit = $("#pwd_2digit").val();

                        let arr = {
                            card_number: card_number,
                            expiry: expiry,
                            birth: birth,
                            pwd_2digit: pwd_2digit,
                            // amount: amount,
                        };
                        $.ajax({
                            url: "/payment/updateCard",
                            method: "post",
                            contentType: "application/json; charset=utf-8",
                            data: JSON.stringify(arr),
                            success: function (result) {
                                console.log(result)
                                if (result == "updateSuccess") {
                                    alert("카드 정보가 수정되었습니다.")
                                    $(".module").css("display", "none");
                                    $.ajax({
                                        url: "/payment/startPay",
                                        method: "post",
                                        contentType: "application/json; charset=utf-8",
                                        data: JSON.stringify({name: payName, amount: price, payStatus: payStatus}),
                                    })
                                } else if (result == "updateFail") {
                                    alert("카드 정보를 다시 확인해주세요.")
                                }
                            }
                        })
                    })
                }
            }
        });
    })

    $("#stop").on("click", function () {
        $.ajax({
            url: "/payment/stopPay",
            method: "post",
            contentType: "application/json; charset=utf-8",
            success: function (result) {
                if(result == 1){
                    alert("정기결제 상태가 아닙니다.")
                }else if(result == 0){
                    alert("정기결제가 취소되었습니다.")
                    history.go(0);
                }
            }
        })
    })

    $("a#goRead").on("click", function(e){
        e.preventDefault();
        location.href = "/myPage/applicationForm" + "?applicationForm&applicantsNo=" + $(this).attr("href");
    })

    $("a#goReply").on("click", function(e){
        e.preventDefault();
        location.href = "/mainBoard/detail" + "?qnaNo=" + $(this).attr("href");
    })


    $("#map").on("click", function () {
        console.log()
    })

    let arr;
    let lat;
    let lng;
    let map;
    let marker;
    let geocoder;
    let responseDiv;
    let response;

    function f1() {
        const arr = map.location.split(",");
        document.writeln(arr[0]);
        document.writeln(arr[1]);

    }

    function initMap() {
        map = new google.maps.Map(document.getElementById("map"), {
            zoom: 13,
            center: {lat: 37.555946, lng: 126.972317},
            mapTypeControl: false,
        });
        geocoder = new google.maps.Geocoder();

        const inputText = document.createElement("input");


        inputText.type = "text";
        inputText.class = "searchBar";
        inputText.placeholder = "주소를 검색해 주세요.";

        const submitButton = document.createElement("input");

        submitButton.type = "button";
        submitButton.value = "검색";
        submitButton.classList.add("button1", "button-1", "search");

        const clearButton = document.createElement("input");

        clearButton.type = "button";
        clearButton.value = "취소";
        clearButton.classList.add("button1", "button-secondary1", "clear");
        response = document.createElement("pre");
        response.id = "response";
        response.innerText = "";
        responseDiv = document.createElement("div");
        responseDiv.id = "response-container";
        responseDiv.appendChild(response);

        const instructionsElement = document.createElement("p");

        instructionsElement.id = "instructions";
        // instructionsElement.innerHTML =
        //     "<strong>Instructions</strong>: Enter an address in the textbox to geocode or click on the map to reverse geocode.";
        map.controls[google.maps.ControlPosition.TOP_LEFT].push(inputText);
        map.controls[google.maps.ControlPosition.TOP_LEFT].push(submitButton);
        map.controls[google.maps.ControlPosition.TOP_LEFT].push(clearButton);
        map.controls[google.maps.ControlPosition.LEFT_TOP].push(instructionsElement);
        map.controls[google.maps.ControlPosition.LEFT_TOP].push(responseDiv);
        marker = new google.maps.Marker({
            map,
        });
        map.addListener("click", (e) => {
            geocode({location: e.latLng});
        });
        submitButton.addEventListener("click", () =>
            geocode({address: inputText.value})
        );
        clearButton.addEventListener("click", () => {
            clear();
        });
        clear();
    }

    function clear() {
        marker.setMap(null);
        responseDiv.style.display = "none";
    }

    $(".btn_close").on("click", function () {
        $(".box_layer").css("display", "none");
    })


    function geocode(request) {
        clear();
        geocoder
            .geocode(request)
            .then((result) => {
                const {results} = result;

                map.setCenter(results[0].geometry.location);
                marker.setPosition(results[0].geometry.location);
                marker.setMap(map);
                responseDiv.style.display = "none";
                response.innerText = JSON.stringify(result, null, 2);

                let location = results[0].geometry.location;
                alert(location);
                /*const arr = map.location.split(",");*/
                console.log(location);
                arr = location.toString().split(",");
                lat = arr[0].substring(1).trim();
                lng = arr[1].substring(0, 11).trim();
                console.log(arr[0].substring(1).trim());
                console.log(arr[1].substring(0, 11).trim());


                // let form = document.doctorSignUpForm;
                // form.docLat.value = arr[0].substring(1).trim();
                // form.docLng.value = arr[1].substring(0, 11).trim();

                return results;


            })
            .catch((e) => {
                alert("Geocode was not successful for the following reason: " + e);
            });
    }


    $("#update").on("click", function(){
        if($("#password").val() != $("#passwordCheck").val()){
            alert("비밀번호가 일치하지 않습니다.");
            return;
        }

        if (!$("#password").val()) {
            alert("비밀번호를 입력해주세요");
            form.docPw.focus();
            return;
        } else {
            //8자리 이상, 대문자/소문자/숫자/특수문자 모두 포함되어 있는 지 검사
            let reg = /^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[#?!@$%^&*-]).{8,}$/;
            let hangleCheck = /[ㄱ-ㅎ|ㅏ-ㅣ|가-힣]/;

            if (!reg.test($("#password").val())) {
                alert("비밀번호는 8자리 이상이어야 하며, 대문자/소문자/숫자/특수문자 모두 포함해야 합니다.");
                form.docPw.focus();
                return;
            }

            //비밀번호에 공백을 포함할 수 없다.
            if ($("#password").val().search(/\s/) != -1) {
                alert("비밀번호에 공백 없이 입력해주세요.");
                form.docPw.focus();
                return;
            }
        }

        let docPhoneNum1 = $("#docPhoneNum1").val();
        let docPhoneNum2 = $("#docPhoneNum2").val();
        let docPhoneNum3 = $("#docPhoneNum3").val();
        let docPhoneNum = docPhoneNum1 + "-" + docPhoneNum2 + "-" + docPhoneNum3;
        let docPw = $("#password").val();
        let docEmail = $("#docEmail").val();
        let docHospitalName = $("#docHospitalName").val();
        let docAddress = $("#docAddress").val();
        let docHosPhone = $("#docHosPhone").val();
        let docHistory = $("#docHistory").val();

        /*let str2 = document.getElementById('docHistory').value;
        for(let j=0;j<i;j++){
            let e = document.querySelector('#text'+j+' input[type=text]').value;
            console.log(e);
            str2+='\n'+e;
        }*/

        // let map = $("#map").val();
        // let history = $("#history").val();
        let doc = [[${doc}]];
        console.log(doc);
        let arr = {
            docPhoneNum: docPhoneNum,
            docEmail: docEmail,
            docHospitalName: docHospitalName,
            docPw: docPw,
            docAddress : docAddress,
            docLat: lat,
            docLng: lng,
            docHistory: docHistory,
            docHosPhone: docHosPhone
        }

        $.ajax({
            url: "/myPage/updateDoc",
            method: "post",
            contentType:"application/json; charset=utf-8",
            data: JSON.stringify(arr),
            success:function(result){
                if(result == "수정완료"){
                    alert("수정 완료");
                }
            }
        })
        location.href="/myPage/myPageDoc";
    })

    document.getElementById("defaultOpen").click();

    function openCity(evt, cityName) {
        // Declare all variables
        let i, tabcontent, tablinks;

        // Get all elements with class="tabcontent" and hide them
        tabcontent = document.getElementsByClassName("tabcontent");
        for (i = 0; i < tabcontent.length; i++) {
            tabcontent[i].style.display = "none";
        }

        // Get all elements with class="tablinks" and remove the class "active"
        tablinks = document.getElementsByClassName("tablinks");
        for (i = 0; i < tablinks.length; i++) {
            tablinks[i].className = tablinks[i].className.replace(" active", "");
        }

        // Show the current tab, and add an "active" class to the button that opened the tab
        document.getElementById(cityName).style.display = "block";
        evt.currentTarget.className += " active";
    }

    document.getElementById("modifyProfile").addEventListener("click", function () {
        let target = document.getElementsByClassName("first");

        target[0].style.display = "none";
        target[1].style.display = "block";
    })

    document.getElementById("back").addEventListener("click", function () {
        let target = document.getElementsByClassName("first");
        target[0].style.display = "block";
        target[1].style.display = "none";
    })


    /*let i = 0;
    function addInput(){

        document.getElementsByClassName('td7')[0].innerHTML+="<div class='div3' style='display: flex;' id='text"+i+"'>" +
            "            <input type='text' name='history"+i+"' value='' placeholder='약력'>" +
            "            <a class='button small' onclick='fn1(" + i + ")'" +
            "                style='width: 80px; margin: auto;'>삭제</a>" +
            "        </div>";

        i++;
    }
    function fn1(i) {
        $('#text'+i).remove();
    }*/

</script>
<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCMkjU3PD_8DSxtcmM3n4lfoAWRC7BEdQ8&callback=initMap&v=weekly"
        async>
</script>
<!--<script>-->
<!--    let map;-->
<!--    let marker;-->
<!--    let geocoder;-->
<!--    let responseDiv;-->
<!--    let response;-->
<!--    function initMap() {-->
<!--        map = new google.maps.Map(document.getElementById("map"), {-->
<!--            zoom: 13,-->
<!--            center: { lat: 37.555946, lng: 126.972317 },-->
<!--            mapTypeControl: false,-->
<!--        });-->
<!--        geocoder = new google.maps.Geocoder();-->

<!--        const inputText = document.createElement("input");-->

<!--        inputText.type = "text";-->
<!--        inputText.class= "searchBar";-->
<!--        inputText.placeholder = "주소를 검색해 주세요.";-->

<!--        const submitButton = document.createElement("input");-->

<!--        submitButton.type = "button";-->
<!--        submitButton.value = "검색";-->
<!--        submitButton.classList.add("button1", "button-1","search");-->

<!--        const clearButton = document.createElement("input");-->

<!--        clearButton.type = "button";-->
<!--        clearButton.value = "취소";-->
<!--        clearButton.classList.add("button1", "button-secondary1","clear");-->
<!--        response = document.createElement("pre");-->
<!--        response.id = "response";-->
<!--        response.innerText = "";-->
<!--        responseDiv = document.createElement("div");-->
<!--        responseDiv.id = "response-container";-->
<!--        responseDiv.appendChild(response);-->

<!--        const instructionsElement = document.createElement("p");-->

<!--        instructionsElement.id = "instructions";-->
<!--        // instructionsElement.innerHTML =-->
<!--        //     "<strong>Instructions</strong>: Enter an address in the textbox to geocode or click on the map to reverse geocode.";-->
<!--        map.controls[google.maps.ControlPosition.TOP_LEFT].push(inputText);-->
<!--        map.controls[google.maps.ControlPosition.TOP_LEFT].push(submitButton);-->
<!--        map.controls[google.maps.ControlPosition.TOP_LEFT].push(clearButton);-->
<!--        map.controls[google.maps.ControlPosition.LEFT_TOP].push(instructionsElement);-->
<!--        map.controls[google.maps.ControlPosition.LEFT_TOP].push(responseDiv);-->
<!--        marker = new google.maps.Marker({-->
<!--            map,-->
<!--        });-->
<!--        map.addListener("click", (e) => {-->
<!--            geocode({ location: e.latLng });-->
<!--        });-->
<!--        submitButton.addEventListener("click", () =>-->
<!--            geocode({ address: inputText.value })-->
<!--        );-->
<!--        clearButton.addEventListener("click", () => {-->
<!--            clear();-->
<!--        });-->
<!--        clear();-->
<!--    }-->

<!--    function clear() {-->
<!--        marker.setMap(null);-->
<!--        responseDiv.style.display = "none";-->
<!--    }-->

<!--    function geocode(request) {-->
<!--        clear();-->
<!--        geocoder-->
<!--            .geocode(request)-->
<!--            .then((result) => {-->
<!--                const { results } = result;-->

<!--                map.setCenter(results[0].geometry.location);-->
<!--                marker.setPosition(results[0].geometry.location);-->
<!--                marker.setMap(map);-->
<!--                responseDiv.style.display = "none";-->
<!--                response.innerText = JSON.stringify(result, null, 2);-->

<!--                var location = results[0].geometry.location;-->
<!--                alert(location);-->
<!--                return results;-->
<!--            })-->
<!--            .catch((e) => {-->
<!--                alert("Geocode was not successful for the following reason: " + e);-->
<!--            });-->
<!--    }-->


<!--</script>-->
</html>